<!DOCTYPE html>
<html lang="fr-CA">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ma bulle de recommandation – Créateur d'Arbre</title>
  <link rel="stylesheet" href="style/main.css">
  <style>
    #container {
      position: absolute;
      top: 4rem; bottom: 2rem;
      left: 2rem; right: 2rem;
      background: #f9fcff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    #toolbar {
      display: flex; align-items: center;
      padding: 0.5rem;
      background: #fff;
      border-bottom: 1px solid #ccc;
    }
    .shape-btn {
      width: 40px; height: 40px;
      margin-right: 12px;
      border: none; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
    }
    .decision-shape {
      background: #4caf50;
      clip-path: polygon(50% 0%,100% 50%,50% 100%,0% 50%);
    }
    .leaf-shape {
      background: #2196f3;
      border-radius: 8px;
    }
    #toolbar button:not(.shape-btn) {
      margin-left: auto;
      background: #cecece;
      border: none;
      color: #000;
      font-size: 1rem;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
    }
    #toolbar button:not(.shape-btn):hover {
      background: #484848; color: #fff;
    }

    #cy {
      width: 100%; height: calc(100% - 50px);
      position: relative;
    }

    #trash {
      position: absolute; bottom: 1rem; right: 1rem;
      width: 40px; height: 40px;
      background: url('https://img.icons8.com/material-outlined/48/333333/trash.png') no-repeat center;
      background-size: 24px 24px;
      opacity: 0.6; transition: opacity 0.2s;
      z-index: 5; pointer-events: none;
    }
    #trash.hovered {
      opacity: 1;
      filter: drop-shadow(0 0 5px red);
    }

    #labelEditor {
      position: absolute; display: none;
      z-index: 9; border: 1px solid #aaa;
      padding: 4px; font-size: 14px;
      border-radius: 4px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      background: #fff;
    }

  </style>
  <script src="https://unpkg.com/cytoscape@3.32.1/dist/cytoscape.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js"></script>
</head>
<body>
  <!-- Navigation -->
  <div class="nav-bubble nav-left" onclick="navigate('page2.html')">◀</div>
  <div class="nav-bubble nav-right" onclick="navigate('page4.html')">▶</div>

  <div id="container">
    <div id="toolbar">
      <button class="shape-btn decision-shape" id="addDecision" title="Ajouter un nœud de décision"></button>
      <button class="shape-btn leaf-shape" id="addLeaf" title="Ajouter un nœud résultat"></button>
      
      
    </div>
    <div id="cy"></div>
    <input id="labelEditor" type="text" />
    <div id="trash" title="Glissez ici pour supprimer"></div>

  </div>

  <!-- Background bubbles -->
  <div class="bubble-floating" style="left:10%; width:80px; height:80px; animation-delay:1s;"></div>
  <div class="bubble-floating" style="left:30%; width:60px; height:60px; animation-delay:5s;"></div>
  <div class="bubble-floating" style="left:50%; width:100px; height:100px; animation-delay:3s;"></div>
  <div class="bubble-floating" style="left:70%; width:50px; height:50px; animation-delay:7s;"></div>
  <div class="bubble-floating" style="left:90%; width:80px; height:80px; animation-delay:4s;"></div>

    <script type="module" src="./src/main.js"></script>
</body>
</html>
